import { createClient } from 'contentful'export default defineEventHandler(async () => {  try {    const config = useRuntimeConfig()    const client = createClient({      space: config.CONTENTFUL_SPACE_ID!,      accessToken: config.CONTENTFUL_DELIVERY_TOKEN!,      environment: config.CONTENTFUL_ENVIRONMENT || 'master',    })    const entries = await client.getEntries({      content_type: 'pageBlogPost',      order: ['-fields.publishedDate'],    })    const normalizeImage = (maybe: any): string | null => {      if (!maybe) return null      if (maybe.fields?.file?.url) {        const raw = maybe.fields.file.url as string        return raw.startsWith('//') ? `https:${raw}` : raw      }      return null    }    const posts = entries.items.map((item: any) => {      return {        id: item.sys.id,        title: item.fields.title,        slug: item.fields.slug,        description:          item?.fields?.description ??          item?.fields?.excerpt ??          item?.fields?.shortDescription ??          '',        image: normalizeImage(item.fields.articleImage) || normalizeImage(item.fields.featuredImage) || normalizeImage(item.fields.image),        date: item.fields.publishedDate,      }    })    return posts  } catch (error) {    console.error('Error fetching posts:', error)    throw createError({      statusCode: 500,      statusMessage: 'Failed to fetch posts from Contentful',    })  }})